schema: '2.0'
stages:
  split_data:
    cmd: python -m src.data.split_dataset --splits_dir data/splits
    deps:
    - path: data/raw/Fake.csv
      hash: md5
      md5: edcb323a8ed3e9f4d5d84016553009eb
      size: 62789876
    - path: data/raw/True.csv
      hash: md5
      md5: 4c3c571205b62c7591c451cfe60d6af1
      size: 53582940
    - path: src/data/split_dataset.py
      hash: md5
      md5: 10cef4a175e348136d00963d699dab52
      size: 2636
    outs:
    - path: data/splits
      hash: md5
      md5: f5c140bafa5bd78557267265f4b762db.dir
      size: 115114227
      nfiles: 3
  preprocess_v1:
    cmd: python -m src.data.preprocess --version v1 --input_dir data/splits 
      --output_dir data/processed/v1
    deps:
    - path: data/splits
      hash: md5
      md5: f5c140bafa5bd78557267265f4b762db.dir
      size: 115114227
      nfiles: 3
    - path: src/data/preprocess.py
      hash: md5
      md5: e43c0aebc58c180aa0d75eec8c96f00b
      size: 1908
    outs:
    - path: data/processed/v1
      hash: md5
      md5: e3b1941dff3a46c357ae301c8d775310.dir
      size: 115114227
      nfiles: 3
  preprocess_v2:
    cmd: python -m src.data.preprocess --version v2 --input_dir data/splits 
      --output_dir data/processed/v2
    deps:
    - path: data/splits
      hash: md5
      md5: f5c140bafa5bd78557267265f4b762db.dir
      size: 115114227
      nfiles: 3
    - path: src/data/preprocess.py
      hash: md5
      md5: e43c0aebc58c180aa0d75eec8c96f00b
      size: 1908
    outs:
    - path: data/processed/v2
      hash: md5
      md5: eb2de3bff7f15d724908f5f1c6ea8aa3.dir
      size: 110937608
      nfiles: 3
  train_model:
    cmd: python -m src.models.train --config configs/train.yaml
    deps:
    - path: configs/train.yaml
      hash: md5
      md5: 99f935bfa5bd73e425761edaaf896c3e
      size: 578
    - path: data/processed/v1
      hash: md5
      md5: e3b1941dff3a46c357ae301c8d775310.dir
      size: 115114227
      nfiles: 3
    - path: data/processed/v2
      hash: md5
      md5: eb2de3bff7f15d724908f5f1c6ea8aa3.dir
      size: 110937608
      nfiles: 3
    - path: src/features/build_features.py
      hash: md5
      md5: f1fe984522cc0c08f5d62448789a7831
      size: 743
    - path: src/models/train.py
      hash: md5
      md5: b776c5d18c6d8a9e891057953ac4a7e0
      size: 5418
    params:
      configs/train.yaml:
        data.version: v2
        features.tfidf.max_features: 50000
        features.tfidf.min_df: 2
        features.tfidf.ngram_range:
        - 1
        - 2
        features.type: tfidf
        model.logreg.C: 1.0
        model.logreg.max_iter: 1000
        model.name: rf
        model.rf.max_depth: 30
        model.rf.n_estimators: 300
        output.run_name: rf_v2
        train.random_state: 42
    outs:
    - path: metrics.json
      hash: md5
      md5: e7a757e066a1d65467d0769c50210a22
      size: 144
    - path: models
      hash: md5
      md5: 2da4096acee83cacd68fbe65a65c54c4.dir
      size: 65754018
      nfiles: 3
